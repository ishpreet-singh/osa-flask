import React, { Component } from 'react';
import CanvasJSReact from './lib/canvasjs.react';
import Button from 'react-bootstrap/Button';
import OscillatorImg from './oscillator-img.png';
import './Oscillator.css';

var CanvasJS = CanvasJSReact.CanvasJS;
var CanvasJSChart = CanvasJSReact.CanvasJSChart;
var updateInterval = 200;
var dataPoints = [];
var screenPoints = 80;
var sliceCount = 0;
var updateIntervalNum;

function getDataPoints() {
    var apiData = {
        "ydata": [
            -57.337501179955815,
            -57.17469362183983,
            -57.50877775722548,
            -57.393121647864504,
            -58.04475113495265,
            -58.32668796544211,
            -58.18136530560457,
            -57.524887172380325,
            -57.466110980942005,
            -57.73319555858871,
            -57.95190940306362,
            -58.37505140172796,
            -58.178026929143805,
            -57.65640893979689,
            -57.8519650551684,
            -58.47921616391226,
            -58.194275175367885,
            -57.3655311324912,
            -58.13670302201697,
            -58.42173916713421,
            -58.49027810573734,
            -57.34655280635883,
            -57.505376131504576,
            -57.46642007119628,
            -58.164408928054264,
            -58.01649954184235,
            -58.534092616317615,
            -58.29903634728664,
            -58.22838040607636,
            -58.37860260312762,
            -58.45250502153258,
            -57.71420986735847,
            -58.66231471355093,
            -58.491095299728975,
            -58.29983056891886,
            -57.52375721566221,
            -58.40828175605358,
            -57.940308824852345,
            -58.05068609190549,
            -58.153153850293194,
            -57.59872676586465,
            -58.12589421453579,
            -58.3958507598451,
            -57.97001574461756,
            -58.24433148408961,
            -57.92609826285362,
            -57.68758020880447,
            -57.88234348691931,
            -57.806479369435785,
            -57.6814470472926,
            -58.01728571717617,
            -57.95760244072495,
            -58.18210424666063,
            -58.041857169522935,
            -57.68010774923327,
            -58.43409569346799,
            -57.58285578709765,
            -57.759133517236116,
            -57.523672366150706,
            -58.12759810298137,
            -57.528223446893186,
            -58.11588051188886,
            -57.54206270333406,
            -57.85861244411029,
            -57.60625120819663,
            -57.71155143058092,
            -57.86714235027079,
            -57.946443611604565,
            -58.11570361895089,
            -58.16454344186606,
            -58.25269705182542,
            -58.87936362199902,
            -57.885210445767356,
            -58.15831657285993,
            -57.88220985506804,
            -58.29833424063103,
            -58.4630850496645,
            -57.9884758241253,
            -57.863005461712284,
            -57.38820484546224,
            -58.22946801054043,
            -58.025263645381806,
            -57.789623405790714,
            -58.045158750890174,
            -57.694768209714326,
            -57.94240705201905,
            -57.4770951682389,
            -57.54262378693174,
            -58.17737253622799,
            -58.58140663599085,
            -58.58807944389381,
            -58.529423509719315,
            -57.774427283327725,
            -57.58046721739351,
            -57.75004936976751,
            -57.85963929647582,
            -58.365869103543275,
            -57.77537859649202,
            -58.193915225384856,
            -57.69793622444131,
            -57.94166418356386,
            -57.6411272627676,
            -58.70482040655433,
            -57.72543473418724,
            -58.29334323937794,
            -58.10936007186226,
            -58.0756956122309,
            -57.39476125490439,
            -58.37900477177828,
            -58.43379432522922,
            -57.71951221774226,
            -57.67850045582078,
            -58.342233150110275,
            -58.160127098341576,
            -57.462834782149,
            -58.53082436524377,
            -57.582686004393004,
            -57.721888278850315,
            -58.50892472741542,
            -58.23349491868243,
            -57.92788013167905,
            -58.31643515319674,
            -58.45534707403168,
            -57.588691064547056,
            -58.124111679555206,
            -57.54919927315946,
            -57.988740002055714,
            -58.39680278522205,
            -58.43033194368929,
            -57.5863350446444,
            -57.8379484160942,
            -57.818500639488136,
            -57.81987528487317,
            -58.65986354294818,
            -58.603424464034255,
            -58.05018071919938,
            -58.591234528021225,
            -58.13904212885507,
            -58.6816315587359,
            -57.67697820842341,
            -58.50409716779005,
            -57.962649756421705,
            -57.71998384380694,
            -57.71614175807251,
            -57.88167070561345,
            -58.681987064871954,
            -57.677074411726984,
            -58.25895019017202,
            -57.7305835091015,
            -58.417579067600656,
            -58.148728984329985,
            -58.390695082223765,
            -57.92194792989977,
            -57.795490002257296,
            -57.81941723706639,
            -58.34634560738099,
            -58.25196723864771,
            -58.80106238430258,
            -58.71720331534872,
            -58.36630093967903,
            -58.14192921728218,
            -58.013712310613165,
            -58.83261520327483,
            -58.12980454590339,
            -58.55598536884255,
            -58.054573634375124,
            -58.08675410332093,
            -57.97015605793713,
            -58.86337150666991,
            -58.41053354977224,
            -57.85715035333857,
            -58.29901271033307,
            -57.842183430417876,
            -58.63026648629489,
            -57.78166298882985,
            -57.76610756891293,
            -58.09266231576319,
            -57.46713338040858,
            -57.921578934156834,
            -57.861123744171294,
            -58.382501482255385,
            -57.943949858752674,
            -58.09455513513012,
            -57.70967465423812,
            -58.15490021461417,
            -58.72642116341409,
            -57.97816475445679,
            -58.734037984510095,
            -58.30935414392559,
            -57.77894615693468,
            -57.72521958798993,
            -58.680076442712206,
            -58.21767147596056,
            -58.77709361699585,
            -58.1649829204758,
            -58.38585359170578,
            -57.84445153275802,
            -57.80566606695635,
            -57.589575667424704,
            -57.745328973278994,
            -57.93310641718568,
            -57.638714034161225,
            -58.49407761872006,
            -57.90685536310351,
            -58.093349647200206,
            -58.34523279860111,
            -58.61750460936363,
            -58.715306413665395,
            -58.345533188828284,
            -58.58444532692912,
            -58.48649369289264,
            -58.12813319235811,
            -57.67534044377706,
            -57.68542339907204,
            -57.954152017967715,
            -57.91293233001276,
            -58.151047838037364,
            -57.79555024520688,
            -57.89388400586223,
            -57.9203247725589,
            -58.23114722505184,
            -57.509666977224626,
            -57.69110500458943,
            -57.78214775507089,
            -57.8417126745864,
            -57.6540354922497,
            -58.2147840346655,
            -58.65380172130905,
            -57.675337212366635,
            -58.075725839433254,
            -57.75297578372307,
            -58.27353158520019,
            -58.05191033947294,
            -57.78794968154658,
            -58.31508368867794,
            -57.82260746215969,
            -58.14609674965641,
            -57.88774291712503,
            -58.84533981571243,
            -58.46803905660236,
            -58.36650735728679,
            -58.49009159674368,
            -57.442955544703054,
            -57.831422517125255,
            -57.98341680182352,
            -58.78072662570899,
            -58.115988787520685,
            -58.157181038656226,
            -57.73777985927557,
            -57.45704636238148,
            -58.0591632148833,
            -58.49143738275245,
            -58.06340777487712,
            -58.20969225836834,
            -57.572918356810916,
            -57.53061151407743,
            -57.83021125017567,
            -58.26415510882823,
            -58.125018552001734,
            -57.3900758351662,
            -57.95051475723085,
            -58.850178281156765,
            -58.13761619113425,
            -58.09371962354702,
            -58.336474020014286,
            -58.474612625714514,
            -57.926296284907316,
            -57.89970134904192,
            -57.86396944888897,
            -58.087807435736316,
            -57.67616096517221,
            -58.240309048401436,
            -57.731668904029505,
            -58.56499628859623,
            -57.730459031194826,
            -57.882310246908084,
            -57.57774097888954,
            -57.82890033349746,
            -58.19877137604851,
            -58.173274008770385,
            -57.76820114018125,
            -58.59423680115438,
            -57.71486530001908,
            -58.505751642445226,
            -57.48966002438229,
            -57.718652886529874,
            -58.22918348086667,
            -57.3326715335334,
            -57.897982381532614,
            -57.86470455072226,
            -57.76031908209313,
            -57.46118712790796,
            -58.766903773222026,
            -58.147389420392926,
            -58.517911720894396,
            -57.58225159507058,
            -58.56044536717035,
            -57.55901158523409,
            -58.06173214290444,
            -58.009612905688684,
            -58.001509381276854,
            -58.892479434749866,
            -58.25948936764676,
            -57.44293247228372,
            -57.61710523066775,
            -58.06318270740514,
            -57.9650858194615,
            -58.344844492600046,
            -58.637707877837514,
            -58.045453793473534,
            -58.22226752122309,
            -57.37431448634838,
            -57.40173709732179,
            -58.007649630270045,
            -57.72813620907222,
            -58.27798540474915,
            -57.82934503922896,
            -57.95193407150927,
            -57.91959013922324,
            -58.012582976204484,
            -57.68272075195629,
            -57.66338771916209,
            -58.352082725326454,
            -58.05517133949882,
            -57.984165356444734,
            -57.79642699549986,
            -57.72811700582296,
            -58.40574903673364,
            -57.74264405577736,
            -57.421824658853346,
            -57.90992220370388,
            -58.62573889370902,
            -57.39449955044123,
            -58.6391598468401,
            -58.824617309893725,
            -58.43147198155547,
            -57.87169136586199,
            -57.54614008535437,
            -57.88487011956714,
            -57.649298572482664,
            -57.887405540206395,
            -58.258240844382684,
            -57.67644835885236,
            -58.69990330432236,
            -58.349139944942294,
            -58.16765523815074,
            -58.17498190941469,
            -58.38261907936618,
            -58.71587363238873,
            -57.870991419140154,
            -58.40286253663246,
            -58.303619801369,
            -57.58295631972465,
            -57.54905542942112,
            -57.82046859470399,
            -58.406154776610435,
            -57.741512450375886,
            -58.13179121373356,
            -57.90550229060804,
            -58.77124076777558,
            -59.08322266029933,
            -58.42400246279793,
            -58.571488180260445,
            -57.90059283155026,
            -58.662463393566036,
            -58.44154013983028,
            -57.60120738748553,
            -57.706552011630116,
            -58.47209147824048,
            -57.65365536214798,
            -58.01576963674367,
            -57.88077450606014,
            -58.330187585312075,
            -58.07563438364278,
            -58.281000946375144,
            -58.4512480454482,
            -58.175855925279365,
            -58.26307092643918,
            -58.10072542021792,
            -57.934887687622826,
            -57.85725673808449,
            -58.59540574616592,
            -58.39322163296747,
            -58.5602012087901,
            -58.651231094488075,
            -57.52414685462332,
            -57.82847907263892,
            -58.38830927901752,
            -57.84641790066639,
            -58.80332908877848,
            -58.25189429270802,
            -57.79765840761364,
            -58.26664625458082,
            -58.51198128929425,
            -57.78116089859696,
            -58.501018551241,
            -57.594485620198924,
            -57.91202486502745,
            -58.204850676633804,
            -57.76056133561788,
            -58.50334732486878,
            -57.76614367887113,
            -58.4722816551437,
            -57.92975808289806,
            -57.74072826491159,
            -58.53779081566672,
            -57.8947029838653,
            -58.25404691481229,
            -58.196967781852116,
            -57.89961410088584,
            -58.42869312221086,
            -57.48638167461536,
            -57.82999497678705,
            -58.384215719323436,
            -58.48284534988882,
            -58.966205528838366,
            -58.30199294571382,
            -58.41516381360973,
            -57.63961037957683,
            -58.46943934416667,
            -58.48490563329909,
            -58.10199603731838,
            -58.46569458438273,
            -58.69245262235855,
            -58.84207804763557,
            -58.4362068170906,
            -58.239742723323744,
            -58.644809450749776,
            -58.1858147910915,
            -58.466564196427505,
            -58.615376032740336,
            -58.399721655646246,
            -57.678609032345825,
            -57.909959675010086,
            -58.33606260382701,
            -58.5233643054144,
            -57.86777525283895,
            -57.57432589352538,
            -57.45425451328738,
            -57.838041556052815,
            -58.31520324266124,
            -58.48023248068095,
            -57.910647746722596,
            -58.2873588665077,
            -57.862335068191115,
            -58.36087993147671,
            -57.577760492936406,
            -57.69979416923794,
            -58.3262991989763,
            -58.71141798446708,
            -58.19389349125055,
            -58.55503987701044,
            -58.740431514431336,
            -58.44687387632139,
            -57.99168058136405,
            -57.76903792026655,
            -58.047539375205375,
            -57.84936289345307,
            -58.62512638280231,
            -58.4597775135298,
            -57.797814604948805,
            -57.962707066420975,
            -58.04089134678924,
            -58.61088385906771,
            -58.40260251167306,
            -57.735859658479825,
            -58.451785078308376,
            -58.132584386094635,
            -58.304027576156884,
            -58.45295944659874,
            -58.11147728242762,
            -58.62536544752808,
            -58.125925440275104,
            -57.87004397335167,
            -58.02662914479642,
            -58.44355032299858,
            -58.713784912331796,
            -58.38340627802033,
            -58.41328914678717,
            -58.32994712402993,
            -58.34742040589151,
            -57.73239977020321,
            -58.157057347701674,
            -57.66627958135259,
            -58.50001443625386,
            -57.53143772752973,
            -57.553201242300645,
            -58.420847402693425,
            -57.99158171100634,
            -57.5557054222421,
            -58.56012027866121,
            -58.04297347031753,
            -58.54420163976701,
            -58.403190531218236,
            -58.32429123048397,
            -58.320307366168294,
            -57.663288865359576,
            -58.3581567092947,
            -58.114493884712935,
            -58.51860304133954
        ],
        "xdata": [
            1.5300003636495874e-06,
            1.5300023637223173e-06,
            1.5300043637950472e-06,
            1.530006363867777e-06,
            1.530008363940507e-06,
            1.5300103640132369e-06,
            1.5300123640859668e-06,
            1.5300143641586967e-06,
            1.5300163642314266e-06,
            1.5300183643041565e-06,
            1.5300203643768864e-06,
            1.5300223644496163e-06,
            1.5300243645223462e-06,
            1.5300263645950763e-06,
            1.5300283646678062e-06,
            1.5300303647405361e-06,
            1.530032364813266e-06,
            1.530034364885996e-06,
            1.5300363649587258e-06,
            1.5300383650314557e-06,
            1.5300403651041856e-06,
            1.5300423651769155e-06,
            1.5300443652496455e-06,
            1.5300463653223754e-06,
            1.5300483653951053e-06,
            1.5300503654678352e-06,
            1.530052365540565e-06,
            1.530054365613295e-06,
            1.530056365686025e-06,
            1.530058365758755e-06,
            1.530060365831485e-06,
            1.5300623659042148e-06,
            1.5300643659769447e-06,
            1.5300663660496746e-06,
            1.5300683661224045e-06,
            1.5300703661951344e-06,
            1.5300723662678643e-06,
            1.5300743663405942e-06,
            1.5300763664133241e-06,
            1.530078366486054e-06,
            1.530080366558784e-06,
            1.5300823666315138e-06,
            1.5300843667042437e-06,
            1.5300863667769736e-06,
            1.5300883668497038e-06,
            1.5300903669224337e-06,
            1.5300923669951636e-06,
            1.5300943670678935e-06,
            1.5300963671406234e-06,
            1.5300983672133533e-06,
            1.5301003672860832e-06,
            1.530102367358813e-06,
            1.530104367431543e-06,
            1.530106367504273e-06,
            1.5301083675770028e-06,
            1.5301103676497327e-06,
            1.5301123677224626e-06,
            1.5301143677951925e-06,
            1.5301163678679224e-06,
            1.5301183679406525e-06,
            1.5301203680133824e-06,
            1.5301223680861123e-06,
            1.5301243681588422e-06,
            1.5301263682315721e-06,
            1.530128368304302e-06,
            1.530130368377032e-06,
            1.5301323684497619e-06,
            1.5301343685224918e-06,
            1.5301363685952217e-06,
            1.5301383686679516e-06,
            1.5301403687406815e-06,
            1.5301423688134114e-06,
            1.5301443688861413e-06,
            1.5301463689588712e-06,
            1.530148369031601e-06,
            1.5301503691043312e-06,
            1.5301523691770611e-06,
            1.530154369249791e-06,
            1.530156369322521e-06,
            1.5301583693952508e-06,
            1.5301603694679807e-06,
            1.5301623695407106e-06,
            1.5301643696134405e-06,
            1.5301663696861704e-06,
            1.5301683697589003e-06,
            1.5301703698316302e-06,
            1.5301723699043602e-06,
            1.53017436997709e-06,
            1.53017637004982e-06,
            1.5301783701225499e-06,
            1.5301803701952798e-06,
            1.5301823702680099e-06,
            1.5301843703407398e-06,
            1.5301863704134697e-06,
            1.5301883704861996e-06,
            1.5301903705589295e-06,
            1.5301923706316594e-06,
            1.5301943707043893e-06,
            1.5301963707771192e-06,
            1.5301983708498491e-06,
            1.530200370922579e-06,
            1.530202370995309e-06,
            1.5302043710680388e-06,
            1.5302063711407687e-06,
            1.5302083712134986e-06,
            1.5302103712862285e-06,
            1.5302123713589584e-06,
            1.5302143714316886e-06,
            1.5302163715044185e-06,
            1.5302183715771484e-06,
            1.5302203716498783e-06,
            1.5302223717226082e-06,
            1.530224371795338e-06,
            1.530226371868068e-06,
            1.5302283719407979e-06,
            1.5302303720135278e-06,
            1.5302323720862577e-06,
            1.5302343721589876e-06,
            1.5302363722317175e-06,
            1.5302383723044474e-06,
            1.5302403723771773e-06,
            1.5302423724499072e-06,
            1.5302443725226373e-06,
            1.5302463725953672e-06,
            1.5302483726680971e-06,
            1.530250372740827e-06,
            1.530252372813557e-06,
            1.5302543728862868e-06,
            1.5302563729590168e-06,
            1.5302583730317467e-06,
            1.5302603731044766e-06,
            1.5302623731772065e-06,
            1.5302643732499364e-06,
            1.5302663733226663e-06,
            1.5302683733953962e-06,
            1.530270373468126e-06,
            1.530272373540856e-06,
            1.5302743736135859e-06,
            1.530276373686316e-06,
            1.530278373759046e-06,
            1.5302803738317758e-06,
            1.5302823739045057e-06,
            1.5302843739772356e-06,
            1.5302863740499655e-06,
            1.5302883741226954e-06,
            1.5302903741954253e-06,
            1.5302923742681552e-06,
            1.5302943743408851e-06,
            1.530296374413615e-06,
            1.530298374486345e-06,
            1.5303003745590749e-06,
            1.5303023746318048e-06,
            1.5303043747045347e-06,
            1.5303063747772646e-06,
            1.5303083748499947e-06,
            1.5303103749227246e-06,
            1.5303123749954545e-06,
            1.5303143750681844e-06,
            1.5303163751409143e-06,
            1.5303183752136442e-06,
            1.530320375286374e-06,
            1.530322375359104e-06,
            1.530324375431834e-06,
            1.5303263755045638e-06,
            1.5303283755772937e-06,
            1.5303303756500236e-06,
            1.5303323757227535e-06,
            1.5303343757954834e-06,
            1.5303363758682133e-06,
            1.5303383759409434e-06,
            1.5303403760136734e-06,
            1.5303423760864033e-06,
            1.5303443761591332e-06,
            1.530346376231863e-06,
            1.530348376304593e-06,
            1.5303503763773229e-06,
            1.5303523764500528e-06,
            1.5303543765227827e-06,
            1.5303563765955126e-06,
            1.5303583766682425e-06,
            1.5303603767409724e-06,
            1.5303623768137023e-06,
            1.5303643768864322e-06,
            1.530366376959162e-06,
            1.530368377031892e-06,
            1.5303703771046221e-06,
            1.530372377177352e-06,
            1.530374377250082e-06,
            1.5303763773228118e-06,
            1.5303783773955417e-06,
            1.5303803774682716e-06,
            1.5303823775410015e-06,
            1.5303843776137315e-06,
            1.5303863776864614e-06,
            1.5303883777591913e-06,
            1.5303903778319212e-06,
            1.530392377904651e-06,
            1.530394377977381e-06,
            1.5303963780501109e-06,
            1.5303983781228408e-06,
            1.5304003781955707e-06,
            1.5304023782683008e-06,
            1.5304043783410307e-06,
            1.5304063784137606e-06,
            1.5304083784864905e-06,
            1.5304103785592204e-06,
            1.5304123786319503e-06,
            1.5304143787046802e-06,
            1.5304163787774101e-06,
            1.53041837885014e-06,
            1.53042037892287e-06,
            1.5304223789955998e-06,
            1.5304243790683297e-06,
            1.5304263791410596e-06,
            1.5304283792137896e-06,
            1.5304303792865195e-06,
            1.5304323793592496e-06,
            1.5304343794319795e-06,
            1.5304363795047094e-06,
            1.5304383795774393e-06,
            1.5304403796501692e-06,
            1.530442379722899e-06,
            1.530444379795629e-06,
            1.530446379868359e-06,
            1.5304483799410888e-06,
            1.5304503800138187e-06,
            1.5304523800865486e-06,
            1.5304543801592785e-06,
            1.5304563802320084e-06,
            1.5304583803047383e-06,
            1.5304603803774682e-06,
            1.5304623804501981e-06,
            1.5304643805229282e-06,
            1.5304663805956581e-06,
            1.530468380668388e-06,
            1.530470380741118e-06,
            1.5304723808138479e-06,
            1.5304743808865778e-06,
            1.5304763809593077e-06,
            1.5304783810320376e-06,
            1.5304803811047675e-06,
            1.5304823811774974e-06,
            1.5304843812502273e-06,
            1.5304863813229572e-06,
            1.530488381395687e-06,
            1.530490381468417e-06,
            1.530492381541147e-06,
            1.5304943816138768e-06,
            1.530496381686607e-06,
            1.5304983817593368e-06,
            1.5305003818320667e-06,
            1.5305023819047966e-06,
            1.5305043819775265e-06,
            1.5305063820502564e-06,
            1.5305083821229863e-06,
            1.5305103821957162e-06,
            1.5305123822684462e-06,
            1.530514382341176e-06,
            1.530516382413906e-06,
            1.5305183824866359e-06,
            1.5305203825593658e-06,
            1.5305223826320957e-06,
            1.5305243827048256e-06,
            1.5305263827775557e-06,
            1.5305283828502856e-06,
            1.5305303829230155e-06,
            1.5305323829957454e-06,
            1.5305343830684753e-06,
            1.5305363831412052e-06,
            1.5305383832139351e-06,
            1.530540383286665e-06,
            1.530542383359395e-06,
            1.5305443834321248e-06,
            1.5305463835048547e-06,
            1.5305483835775846e-06,
            1.5305503836503145e-06,
            1.5305523837230444e-06,
            1.5305543837957743e-06,
            1.5305563838685043e-06,
            1.5305583839412344e-06,
            1.5305603840139643e-06,
            1.5305623840866942e-06,
            1.530564384159424e-06,
            1.530566384232154e-06,
            1.5305683843048839e-06,
            1.5305703843776138e-06,
            1.5305723844503437e-06,
            1.5305743845230736e-06,
            1.5305763845958035e-06,
            1.5305783846685334e-06,
            1.5305803847412633e-06,
            1.5305823848139932e-06,
            1.5305843848867231e-06,
            1.530586384959453e-06,
            1.530588385032183e-06,
            1.530590385104913e-06,
            1.530592385177643e-06,
            1.5305943852503728e-06,
            1.5305963853231028e-06,
            1.5305983853958327e-06,
            1.5306003854685626e-06,
            1.5306023855412925e-06,
            1.5306043856140224e-06,
            1.5306063856867523e-06,
            1.5306083857594822e-06,
            1.530610385832212e-06,
            1.530612385904942e-06,
            1.5306143859776719e-06,
            1.5306163860504018e-06,
            1.5306183861231317e-06,
            1.5306203861958618e-06,
            1.5306223862685917e-06,
            1.5306243863413216e-06,
            1.5306263864140515e-06,
            1.5306283864867814e-06,
            1.5306303865595113e-06,
            1.5306323866322412e-06,
            1.5306343867049711e-06,
            1.530636386777701e-06,
            1.530638386850431e-06,
            1.5306403869231609e-06,
            1.5306423869958908e-06,
            1.5306443870686207e-06,
            1.5306463871413506e-06,
            1.5306483872140805e-06,
            1.5306503872868104e-06,
            1.5306523873595405e-06,
            1.5306543874322704e-06,
            1.5306563875050003e-06,
            1.5306583875777302e-06,
            1.53066038765046e-06,
            1.53066238772319e-06,
            1.53066438779592e-06,
            1.5306663878686498e-06,
            1.5306683879413797e-06,
            1.5306703880141096e-06,
            1.5306723880868395e-06,
            1.5306743881595694e-06,
            1.5306763882322993e-06,
            1.5306783883050292e-06,
            1.5306803883777591e-06,
            1.530682388450489e-06,
            1.5306843885232192e-06,
            1.530686388595949e-06,
            1.530688388668679e-06,
            1.5306903887414089e-06,
            1.5306923888141388e-06,
            1.5306943888868687e-06,
            1.5306963889595986e-06,
            1.5306983890323285e-06,
            1.5307003891050584e-06,
            1.5307023891777883e-06,
            1.5307043892505182e-06,
            1.530706389323248e-06,
            1.530708389395978e-06,
            1.530710389468708e-06,
            1.5307123895414378e-06,
            1.530714389614168e-06,
            1.5307163896868978e-06,
            1.5307183897596277e-06,
            1.5307203898323576e-06,
            1.5307223899050875e-06,
            1.5307243899778175e-06,
            1.5307263900505474e-06,
            1.5307283901232773e-06,
            1.5307303901960072e-06,
            1.530732390268737e-06,
            1.530734390341467e-06,
            1.5307363904141969e-06,
            1.5307383904869268e-06,
            1.5307403905596567e-06,
            1.5307423906323866e-06,
            1.5307443907051165e-06,
            1.5307463907778466e-06,
            1.5307483908505765e-06,
            1.5307503909233064e-06,
            1.5307523909960363e-06,
            1.5307543910687662e-06,
            1.5307563911414961e-06,
            1.530758391214226e-06,
            1.530760391286956e-06,
            1.5307623913596858e-06,
            1.5307643914324157e-06,
            1.5307663915051456e-06,
            1.5307683915778756e-06,
            1.5307703916506055e-06,
            1.5307723917233354e-06,
            1.5307743917960653e-06,
            1.5307763918687952e-06,
            1.5307783919415253e-06,
            1.5307803920142552e-06,
            1.530782392086985e-06,
            1.530784392159715e-06,
            1.530786392232445e-06,
            1.5307883923051748e-06,
            1.5307903923779047e-06,
            1.5307923924506346e-06,
            1.5307943925233645e-06,
            1.5307963925960944e-06,
            1.5307983926688243e-06,
            1.5308003927415542e-06,
            1.5308023928142841e-06,
            1.530804392887014e-06,
            1.530806392959744e-06,
            1.530808393032474e-06,
            1.530810393105204e-06,
            1.5308123931779339e-06,
            1.5308143932506638e-06,
            1.5308163933233937e-06,
            1.5308183933961236e-06,
            1.5308203934688535e-06,
            1.5308223935415834e-06,
            1.5308243936143133e-06,
            1.5308263936870432e-06,
            1.530828393759773e-06,
            1.530830393832503e-06,
            1.530832393905233e-06,
            1.5308343939779628e-06,
            1.5308363940506927e-06,
            1.5308383941234226e-06,
            1.5308403941961527e-06,
            1.5308423942688826e-06,
            1.5308443943416125e-06,
            1.5308463944143424e-06,
            1.5308483944870723e-06,
            1.5308503945598022e-06,
            1.5308523946325322e-06,
            1.530854394705262e-06,
            1.530856394777992e-06,
            1.5308583948507219e-06,
            1.5308603949234518e-06,
            1.5308623949961817e-06,
            1.5308643950689116e-06,
            1.5308663951416415e-06,
            1.5308683952143714e-06,
            1.5308703952871013e-06,
            1.5308723953598314e-06,
            1.5308743954325613e-06,
            1.5308763955052912e-06,
            1.5308783955780211e-06,
            1.530880395650751e-06,
            1.530882395723481e-06,
            1.5308843957962108e-06,
            1.5308863958689407e-06,
            1.5308883959416706e-06,
            1.5308903960144005e-06,
            1.5308923960871304e-06,
            1.5308943961598603e-06,
            1.5308963962325903e-06,
            1.5308983963053202e-06,
            1.53090039637805e-06,
            1.53090239645078e-06,
            1.53090439652351e-06,
            1.53090639659624e-06,
            1.5309083966689699e-06,
            1.5309103967416998e-06,
            1.5309123968144297e-06,
            1.5309143968871596e-06,
            1.5309163969598895e-06,
            1.5309183970326194e-06,
            1.5309203971053493e-06,
            1.5309223971780792e-06,
            1.5309243972508091e-06,
            1.530926397323539e-06,
            1.530928397396269e-06,
            1.5309303974689988e-06,
            1.5309323975417287e-06,
            1.5309343976144588e-06,
            1.5309363976871888e-06,
            1.5309383977599187e-06,
            1.5309403978326486e-06,
            1.5309423979053785e-06,
            1.5309443979781084e-06,
            1.5309463980508383e-06,
            1.5309483981235682e-06,
            1.530950398196298e-06,
            1.530952398269028e-06,
            1.5309543983417579e-06,
            1.5309563984144878e-06,
            1.5309583984872177e-06,
            1.5309603985599476e-06,
            1.5309623986326775e-06,
            1.5309643987054074e-06,
            1.5309663987781375e-06,
            1.5309683988508674e-06,
            1.5309703989235973e-06,
            1.5309723989963272e-06,
            1.5309743990690571e-06,
            1.530976399141787e-06,
            1.530978399214517e-06,
            1.5309803992872469e-06,
            1.5309823993599768e-06,
            1.5309843994327067e-06,
            1.5309863995054366e-06,
            1.5309883995781665e-06,
            1.5309903996508964e-06,
            1.5309923997236263e-06,
            1.5309943997963562e-06,
            1.530996399869086e-06,
            1.5309983999418162e-06
        ],
    }
    const limit = apiData.xdata.length;

    for (var i = 0; i < limit; i++) {
        dataPoints.push({
            x: apiData['xdata'][i],
            y: apiData['ydata'][i]
        });
    }
    return dataPoints;

}

class Oscillator extends Component {

    constructor() {
        super();
        this.state = {
            active: true,
        }
        this.toggleState = this.toggleState.bind(this);
        this.updateDataPoints = this.updateDataPoints.bind(this);
        this.clearChart = this.clearChart.bind(this);
        this.reset = this.reset.bind(this);
    }

    componentDidMount() {
        // setInterval(this.updateDataPoints, updateInterval);
    }

    clearChart() {
        let arr = [];
        this.chart.options.data[0].dataPoints = arr;
        this.chart.render();
    }

    updateDataPoints() {
        if (!this.state.active) {
            this.clearChart();
            return;
        }
        let arr = [];
        let dps = this.chart.options.data[0].dataPoints.slice();
        if (dataPoints.length <= screenPoints) return;

        let shiftSize = Math.floor(screenPoints / 2);
        shiftSize = 40;
        arr = dps.slice(shiftSize);
        if (sliceCount == 0) {
            dataPoints = dataPoints.slice(shiftSize)
        }
        dataPoints = dataPoints.slice(shiftSize)
        arr = arr.concat(dataPoints.slice(0, shiftSize))
        sliceCount++;

        let options = this.chart.options;
        options.data[0].dataPoints = arr;
        this.chart.render();
    }

    toggleState() {
        console.log("I m clicked");
        this.state.active = !this.state.active
    }

    reset() {
        this.toggleState();
        this.clearChart();
        clearInterval(updateIntervalNum);
    }

    render() {

        // let dps = getDataPoints();
        // dps = dps.slice(0, screenPoints);

        // let options = {
        //     backgroundColor: "black",
        //     zoomEnabled: true,
        //     animationEnabled: false,
        //     axisY: {
        //         includeZero: false,
        //         gridThickness: 0,
        //     },
        //     data: [{
        //         type: "line",
        //         color: "green",
        //         dataPoints: this.state.active ? dps : []
        //     }]
        // }

        // let options = {};

        let options = {
            animationEnabled: true,
            theme: "light2",
            title:{
                text: "Simple Line Chart"
            },
            axisY:{
                includeZero: false
            },
            data: [{        
                type: "line",
                  indexLabelFontSize: 16,
                dataPoints: [
                    { y: 450 },
                    { y: 414},
                    { y: 520, indexLabel: "\u2191 highest",markerColor: "red", markerType: "triangle" },
                    { y: 460 },
                    { y: 450 },
                    { y: 500 },
                    { y: 480 },
                    { y: 480 },
                    { y: 410 , indexLabel: "\u2193 lowest",markerColor: "DarkSlateGrey", markerType: "cross" },
                    { y: 500 },
                    { y: 480 },
                    { y: 510 }
                ]
            }]
        };

        return (

            <div className="Oscillator">

                <div className="container">
                    <h1 className="my_text_center">Custom Oscillator</h1>
                    <div className="base">
                        <img src={OscillatorImg} className="img-fluid"></img>
                        {/* <div className="overlapping_div" id="chartContainer">Place Canvas in Here...</div> */}
                        <CanvasJSChart options={options}
                            onRef={ref => this.chart = ref}
                        />
                        <a href="#" className="my_btn">
                            <i className="fa fa-play-circle my_btn_start"></i>
                        </a>
                        <a href="#" className="my_btn">
                            <i className="fa fa-stop-circle my_btn_stop"></i>
                        </a>
                        <a href="#" className="my_btn">
                            <i className="fa fa-pause-circle my_btn_single"></i>
                        </a>
                    </div>
                </div>

                {/* <CanvasJSChart options={options}
                    onRef={ref => this.chart = ref}
                /> */}
                <Button variant="success" size="lg" onClick={() => !this.state.active && this.toggleState()} >Start</Button>{' '}
                <Button variant="danger" size="lg" onClick={() => this.state.active && this.toggleState()} >Stop</Button>{' '}
                <Button variant="danger" size="lg" onClick={() => this.state.active && this.reset()} >Reset</Button>{' '}
                <Button variant="warning" size="lg">Single</Button>{' '}
            </div>
        );
    }

}

export default Oscillator;